#include <stdio.h>
#include <stdlib.h>
#include <string.h>


char what[] = {'W', 'H', 'A', 'T'};
long solution[] = {3924, 403840174523760, 10708771522428, 353237081188, 5127893933, 149960298, 3248700, 32837, 2179047144047076, 164451697868777, 600811115256, 2527683126, 150275532, 2860847, 3449, 1828556732620887, 24597419141883, 61783876357, 1197077196, 17200793, 89635, 4077, 2912224039305411, 72598267718928, 59639151351, 2258366787, 228691224, 3892891, 65943, 833426982984960, 49488936457716, 97987125600, 1573266557, 45132237, 2023779, 17452, 4748452348696368, 23263942584024, 509490137403, 382313468, 69424894, 1878085, 44548, 12045994937322663, 23529222662400, 86342566505, 2231651489, 69418347, 2608956, 12921, 4973645091643620, 32311478428563, 280472233860, 1584955224, 323581956, 2493272, 39508, 2917682891468458, 21280518312514, 106708300920, 1402259127};

int main() {
    char* program = "?WAWWHT?WAAWWAHHWAWAAAT?WAAHAAHHAAT?WHAAAHAHAWWHT?WHAAHHAHAWHT?WWHHWWHAAAHHWHT?WHHHHHHHAAT?WHHHHHHWWAHHT?WHAAAHAHAWHHHHHAAHT?WHHWHHAHHAAAHAAHHHT?WHHHAHWHHHAHHHAHAAT?WAAHHAHHHAHHWHHHHHT?WHHHHAHHAHAHWHHHHHT?WHHHHHHHWAHHAHHHHHT?WAWT?WHAAAAAAAWT?WHAAHAAAWAWWT?WAAAHAWAWHHT?WAAAHHHHAT?WAHHWHAHAHT?WAHHHHWWHWHAT?WAHWHHHWHHHT?WAHHAAAHHAAHHAHHT?WHHHAHWWHAHAHAWHHAAT?WAHWHHHWAAHHHWAHHHAWT?WAHHHHHAAHHHWHAHHT?WHHHHHAHHAHHHHHAT?WHHHHHHWWHAHWHHHAHHT?WHHHHHHWHHWHWHWHHHAHT?WAAWAAAAAT?WHAAAAAWWAT?WAWWHWWHAAAAT?WAAAAWWHHHWT?WHAHHAAHWT?WHWHWAHHAHT?WHAHHWWWHWHHT?WHHAHHHHAAAWHAAWAWT?WWAWHAHHHAHHAWHAAHT?WHHAHHHHWAAHAWHHAWT?WAHHAHWAHHWHHAHWHHT?WHAHHHHWHHAWHHHWAHT?WWHWAHHHHHHHAHHHHWT?WHHWWHHWHAHHHHHHHHT?WHWHHHHHAAHWAHHHHAAHAHWHAT?WAAAAAAT?WWAAWHAWAWAT?WAAAWAHWHT?WHAHWAHAWWT?WHHHHAAT?WWHAHHHHWWWT?WHHWAWAAAHAHAHHAT?WHAAHHAHAAHAHHT?WWAHHHHHAHHHAAAT?WAHAHHHWHHAHHHWWAT?WHHHHHAWHAHHHWAHT?WHHHHHAHAHHHHHT?WHHHWHHAHHHHHHHT?WHHAHHHWAHAHAWHHAHAAHHHWT?WHAHAHWHHWHAHAAHHHHWHWHAHT?WAAAWAAT?WAAAAHT!";
    size_t len = strlen(program);

    printf("What did you say? ");
    long long in = 0;
    char correct = 1;
    int acc_idx = 0;
    int what_idx = 0;
    for (int i = 0; i < len; i++) {
        if (program[i] == '?') {
            char temp = getchar();
            in = temp * correct;
        } else if (program[i] == 'W') {
            in ^= what[what_idx++];
            what_idx %= 4;
        } else if (program[i] == 'H') {
            in += what[what_idx++];
            what_idx %= 4;
        } else if (program[i] == 'A') {
            in *= what[what_idx++];
            what_idx %= 4;
        } else if (program[i] == 'T') {
            correct &= (in == solution[acc_idx++]);
        } else if (program[i] == '!') {
            if (correct == 1)
                printf("oh, that makes sense.\n");
            else
                printf("I don't get it.\n");
        }
    }
}